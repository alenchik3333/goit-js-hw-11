{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nfunction getPicturesByQuery(query) {\n  const API_KEY = \"45032349-419aa61286db3245b797ba166\";\n\n  return fetch(`https://pixabay.com/api?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`).then(\n    (res) => {\n      if (!res.ok) {\n        throw new Error(res.status); \n      }\n      return res.json();\n    }\n  );\n}\nexport default getPicturesByQuery;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst galleryEl = document.querySelector('.gallery');\nlet gallery;\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n  <li class=\"gallery-item\">\n  <div class=\"overley-image\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${webformatURL}\" \n        alt=\"${tags}\"\n      />\n    </a>\n    </div>\n    <div class=\"info\">\n    <div class=\"info-detail\">\n        <h2 class=\"title\">Likes</h2>\n        <p class=\"text\">${likes}</p>\n    </div>\n    <div class=\"info-detail\">\n        <h2 class=\"title\">Views</h2>\n        <p class=\"text\">${views}</p>\n    </div>\n    <div class=\"info-detail\">\n        <h2 class=\"title\">Comments</h2>\n        <p class=\"text\">${comments}</p>\n    </div>\n    <div class=\"info-detail\">\n        <h2 class=\"title\">Downloads</h2>\n        <p class=\"text\">${downloads}</p>\n    </div>\n  </div>\n  </li>\n  `\n    )\n    .join('');\n}\nfunction drawGallery(images) {\n  if (gallery) gallery.refresh();\n  galleryEl.innerHTML = '';\n  galleryEl.insertAdjacentHTML('afterbegin', createMarkup(images));\n  gallery = new SimpleLightbox('.overley-image a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n}\n\nexport default drawGallery;\n","//import PixabayAPi from \"./js/pixabay-api.js\";\nimport getPicturesByQuery from \"./js/pixabay-api.js\";\n//import { rendeFunctions } from './js/render-functions';\nimport drawGallery from \"./js/render-functions.js\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst loading = document.querySelector('.loading');\nconst form = document.querySelector('.search-form');\n//const responce = getPicturesByQuery(\"sdsd\");\n\nform.addEventListener('submit', (evt) => {\n    evt.preventDefault();\n    loading.style.display = 'block';\n    const responce = getPicturesByQuery(form.elements.query.value.toLowerCase());\n    responce.then((responce) => {\n        {\n            if (responce.totalHits === 0) {\n            iziToast.error({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: 'topRight'\n                });\n        }\n            else {\n                console.log(responce.total);\n            //console.log(responce.hits[0].webformatURL);\n            //console.log(responce.hits[0].likes);\n            drawGallery(responce.hits);\n          }     \n        }\n    \n    }).catch(ex =>\n    {\n        console.log(ex);\n        iziToast.error({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: 'topRight'\n                });\n    }).finally(() => {\n        loading.style.display = 'none';\n    })\n});\n\n"],"names":["getPicturesByQuery","query","res","galleryEl","gallery","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","drawGallery","images","SimpleLightbox","loading","form","evt","responce","iziToast","ex"],"mappings":"6vBACA,SAASA,EAAmBC,EAAO,CAGjC,OAAO,MAAM,oEAA4CA,CAAK,0DAA0D,EAAE,KACvHC,GAAQ,CACP,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACZ,CACL,CACA,CCPA,MAAMC,EAAY,SAAS,cAAc,UAAU,EACnD,IAAIC,EACJ,SAASC,EAAaC,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA;AAAA,oCAGwBL,CAAa;AAAA;AAAA;AAAA,eAGlCD,CAAY;AAAA,eACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAOOC,CAAK;AAAA;AAAA;AAAA;AAAA,0BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,0BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,0BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,GAK9B,EACA,KAAK,EAAE,CACZ,CACA,SAASC,EAAYC,EAAQ,CACvBX,GAASA,EAAQ,UACrBD,EAAU,UAAY,GACtBA,EAAU,mBAAmB,aAAcE,EAAaU,CAAM,CAAC,EAC/DX,EAAU,IAAIY,EAAe,mBAAoB,CAC/C,aAAc,MACd,aAAc,GAClB,CAAG,CACH,CCpDA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,cAAc,EAGlDA,EAAK,iBAAiB,SAAWC,GAAQ,CACrCA,EAAI,eAAc,EAClBF,EAAQ,MAAM,QAAU,QACPjB,EAAmBkB,EAAK,SAAS,MAAM,MAAM,YAAW,CAAE,EAClE,KAAME,GAAa,CAEhBA,EAAS,YAAc,EAC3BC,EAAS,MAAM,CACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,GAGD,QAAQ,IAAID,EAAS,KAAK,EAG9BN,EAAYM,EAAS,IAAI,EAIrC,CAAK,EAAE,MAAME,GACT,CACI,QAAQ,IAAIA,CAAE,EACdD,EAAS,MAAM,CACH,QAAS,2EACT,SAAU,UAC9B,CAAiB,CACjB,CAAK,EAAE,QAAQ,IAAM,CACbJ,EAAQ,MAAM,QAAU,MAChC,CAAK,CACL,CAAC"}